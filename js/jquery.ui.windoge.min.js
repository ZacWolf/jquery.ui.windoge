/*! jquery.ui.windoge - v0.1.0 - 2016-07-01
 *
 * Adds draggable, resizable, maximizable, and minimizable windows to your site
 *
 * https://github.com/ZacWolf/jquery.ui.windoge
 * Copyright (c) 2014-2016 Zac Morris <zac@zacwolf.com> [http://www.zacwolf.com]
 * Licensed under GPL-3.0
 */
var winDoge=function(opts){var self=this;self.options=jQuery.extend(!0,{},this._defaults,opts);var privatefunctions={_getAttributes:function(a){var b={};return a.length&&jQuery.each(a[0].attributes,function(a,c){b[c.name]=c.value}),b},_styles2json:function(a){var b={};if(!a)return b;if(a instanceof CSSStyleDeclaration)for(var c in a)a[c].toLowerCase&&(b[a[c].toLowerCase()]=a[a[c]]);else if("string"===jQuery.type(a)){a=a.split(";");for(var c in a){var d=a[c].split(":");d[0]&&(b[d[0].toLowerCase().trim()]=d[1].trim())}}return b},_getdiffs:function(a,b){var c=new Object;return jQuery.each(b,function(b,d){d!=a[b]&&(c[b]=a[b])}),c},_copyComputedCSS:function(a){a instanceof jQuery&&(a=a[0]);var b=getComputedStyle(a,null),c={};return jQuery.each(b,function(a,d){c[d]=b[d]}),c},_maxwindoge:function(a){var b=function(b,d){try{a.removeClass("maximize").addClass("restore").one("click",c),self.winDiv.find(".windogebar").css("cursor","auto").end().find(".resizeicon").hide().end().draggable("disable").data("origWidth",self.winDiv.width()).data("origHeight",self.winDiv.height()).data("origStyle",privatefunctions._getdiffs(privatefunctions._copyComputedCSS(self.winDiv),privatefunctions._copyComputedCSS(self.winDiv.addClass("maximized")))),self.options.winstate=1}finally{}self._triggerCustomOnEvents("maximize"),self._triggerCustomOneEvents("maximize")};a.one("click",b);var c=function(c,d){try{a.removeClass("restore").addClass("maximize").one("click",b),self.winDiv.find(".windogebar").css("cursor","move").end().find(".resizeicon").show().end().draggable("enable").removeClass("maximized").css(self.winDiv.data("origStyle")).data("winstate",0)}finally{self._triggerCustomOnEvents("maxrestore"),self._triggerCustomOneEvents("maxrestore")}}},_minwindoge:function(a){var b=function(a,b){jQuery("#windoge-minimizedock ul").append('<li id="'+self.id+'-min"><a><em><span>'+self.options.winheader+'</span></em><img src="'+self.options.winlogo+'" /></a></li>'),jQuery("#"+self.id+"-min img").one("click",c),self.winDiv.effect("transfer",{to:"#"+self.id+"-min img",className:"ui-effects-transfer"},400,function(){self._triggerCustomOnEvents("minimize"),self._triggerCustomOneEvents("minimize")}).hide(),self.options.winstate=-1};a.one("click",b);var c=function(c,d){self.winDiv.fadeIn(800),self.options.winstate=0,jQuery("#"+self.id+"-min").effect("transfer",{to:self.winDiv,className:"ui-effects-transfer"},400,function(){self._triggerCustomOnEvents("minrestore"),self._triggerCustomOneEvents("minrestore")}).remove(),self._testSize(self),a.one("click",b)}},_closewindoge:function(a){try{var b=function(c,d){self.winDiv.hide(),a.one("click",b)};a.one("click",b)}finally{self._triggerCustomOnEvents("close"),self._triggerCustomOneEvents("close")}},_createCookie:function(a,b,c){if(!navigator.cookieEnabled)return!1;if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="; expires=Tue, 19 Jan 2038 03:14:07 UTC";return document.cookie=a+"="+b+e+";",!0},_readCookie:function(a){if(!navigator.cookieEnabled)return null;for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},_eraseCookie:function(a){_createCookie(a,"",-1)},_bringToTop:function(a){var b=jQuery.makeArray(jQuery(".windoge")).sort(function(a,b){return(parseInt(jQuery(a).css("zIndex"),10)||0)-(parseInt(jQuery(b).css("zIndex"),10)||0)});if(b.length){var c=parseInt(jQuery(b[0]).css("zIndex"),10)||0;jQuery(b).each(function(a){jQuery(this).css("zIndex",c+a)}),jQuery(this).css("zIndex",c+b.length)}}};jQuery(window).on("resize",function(a){self._testSize(self)}),0==jQuery("#windoge-pane").length&&jQuery("<div id='windoge-pane' class='ui-front'><div id='windoge-minimizedock' class='dock'><ul></ul></div></div>").appendTo(jQuery("body")),self.options.winroundedcorners&&(self.options.winroundedcorners=isNaN(self.options.winroundedcorners)?5:self.options.winroundedcorners<1?1:self.options.winroundedcorners>5?5:self.options.winroundedcorners),self.winDiv=jQuery('<div class="windoge'+(self.options.windropshadow?" windropshadow":"")+(self.options.winroundedcorners?" rounded"+self.options.winroundedcorners+" topleft topright bottomleft bottomright":"")+'"></div>'),self.options.id?self.winDiv.attr("id",self.options.id):self.winDiv.uniqueId(),jQuery.each(self.options,function(a,b){"style"===a.toLowerCase()&&"object"===jQuery.type(b)?(self.winDiv.css(self.options.style),self.options.style=void 0):"on"!==a.toLowerCase()&&"one"!==a.toLowerCase()&&"contentdiv"!==a.toLowerCase()&&self.winDiv.data(a,b)}),self.id=self.winDiv.attr("id");var topbar=jQuery('<div id="'+self.id+'topbar" class="windogebar'+(self.options.winroundedcorners?" rounded"+self.options.winroundedcorners+" topleft topright":"")+'"><span id="'+self.id+'barheader" class="header'+(self.options.winlogoshow?"":" nologo")+'">'+self.options.winheader+'</span><div class="icons'+(self.options.winroundedcorners?" rounded"+self.options.winroundedcorners:"")+'"><div class="icon minimize"></div><div class="icon maximize"></div>'+(self.options.winclosable?'<div class="icon close"></div>':"")+"</div></div>").appendTo(self.winDiv),bttmbar=jQuery("<div id="+self.id+'bottombar" class="windogestatus'+(self.options.winroundedcorners?" rounded bottomleft bottomright":"")+'"><div id="'+self.id+'status" class="statusmsg"></div><div class="resizeicon"></div></div>').appendTo(self.winDiv),middle=jQuery('<div id="'+self.id+'middle" class="windogemiddle"></div>').appendTo(self.winDiv),winlogo=self.options.winlogoshow?jQuery('<img id="'+self.id+'logo" class="logo'+(self.options.winlogodropshadow?" dropshadow":"")+'" src="'+self.options.winlogo+'" />').appendTo(self.winDiv):"";if(self.winDiv.data("resizestart",{}).data("resizewidth",0).data("resideheight",0).appendTo(jQuery("#windoge-pane")).draggable({cursor:"move",containment:"window",scroll:!1,handle:jQuery(".windogebar"),stack:".windoge",stop:function(a,b){self.options.winpersistposition&&privatefunctions._createCookie("windoge-"+self.id+"-pos","{'top':"+self.winDiv.offset().top+",'left':"+self.winDiv.offset().left+"}")}}).find(".windogebar .icon").each(function(){jQuery(this).hasClass("maximize")?privatefunctions._maxwindoge(jQuery(this)):jQuery(this).hasClass("minimize")?privatefunctions._minwindoge(jQuery(this)):jQuery(this).hasClass("close")&&privatefunctions._closewindoge(jQuery(this))}).end().find(".resizeicon").each(function(){jQuery(this).draggable({drag:function(a,b){var c=self.winDiv.offset(),d=b.offset,e=parseInt(self.winDiv.css("min-width")),f=d.left+jQuery(this).width()-c.left,g=parseInt(self.winDiv.css("min-height")),h=d.top-c.top;f>=e&&self.width(f),h>=g&&self.height(h)},stop:function(a,b){self.options.winpersistposition&&privatefunctions._createCookie("windoge-"+self.id+"-size","{'width':"+self.winDiv.width()+",'height':"+self.winDiv.height()+"}")},helper:"clone",opacity:.1,containment:"window",stack:".windoge"})}).end().on("click",privatefunctions.__bringToTop).click(),middle.css({top:topbar.outerHeight(),bottom:bttmbar.outerHeight()}),self.options.contentdiv){var contentdiv=jQuery(self.options.contentdiv).detach();0==contentdiv.find(".windogecontent").length&&contentdiv.addClass("windogecontent"),middle.append(contentdiv),self.options.contentdiv=void 0}else middle.append(jQuery("<div id='"+self.id+"content' class='windogecontent'><div class='windogecontentinner'></div></div>"));if(self.options.winpersistposition)if(navigator.cookieEnabled){var pos,size;eval("pos="+privatefunctions._readCookie("windoge-"+self.id+"-pos")),null!=pos&&self.winDiv.css(pos),eval("size="+privatefunctions._readCookie("windoge-"+self.id+"-size")),null!=size&&(self.winDiv.width(size.width),self.winDiv.height(size.height))}else self.setStatusMsg("<span style='color:#888888;font-weight:bold;'>Cookies not allowed, reseting to initial position and size.</span>");self.winDiv.data("windoge",self)};winDoge.prototype={winDiv:void 0,id:void 0,options:{},_defaults:{winheader:"",winlogo:"minimized-icon.png",winlogoshow:!0,winlogodropshadow:!0,winroundedcorners:"5",winstate:0,winperistposition:!1,winroundedcorners:!1,winclosable:!1,style:{width:"640px",height:"480px","min-width":"350px","min-height":"200px"},on:{maximize:[],maxrestore:[],minimize:[],minrestore:[],resize:[],close:[]},one:{maximize:[],maxrestore:[],minimize:[],minrestore:[],resize:[],close:[]}},_testSize:function(){var a=jQuery(window).width(),b=jQuery(window).height(),c=this.winDiv.offset().left,d=this.winDiv.width(),e=this.winDiv.offset().top,f=this.winDiv.height();a<c+d&&(a>d?this.winDiv.css("left",a-d+"px"):(this.winDiv.css("left",0),this.width(a-1))),b<e+f&&(b>f?this.winDiv.css("top",b-f+"px"):(this.winDiv.css("top",0),this.height(b-1)))},_triggerCustomOnEvents:function(a){return"function"===jQuery.type(this.options.on[a])?this.options.on[a].call(this):"array"===jQuery.type(this.options.on[a])&&jQuery(this.options.on[a]).each(function(){this.call(this)}),this},_triggerCustomOneEvents:function(a){if("function"===jQuery.type(this.options.one[a]))this.options.one[a].call(this),this.options.one[a]=void 0;else if("array"===jQuery.type(this.options.one[a]))for(;this.options.one[a].length;)this.options.one[a].shift().call(this);return this},width:function(a){if("undefined"===jQuery.type(a))return this.winDiv.width();try{return this.winDiv.width(a)}finally{this._triggerCustomOnEvents("resize"),this._triggerCustomOneEvents("resize")}},height:function(a){if("undefined"===jQuery.type(a))return this.winDiv.height();try{return this.winDiv.height(a)}finally{this._triggerCustomOnEvents("resize"),this._triggerCustomOneEvents("resize")}},find:function(a){return this.winDiv.find(a)},on:function(a,b){if("undefined"!==jQuery.type(a)&&("string"===jQuery.type(a)||"function"===jQuery.type(b)))switch(a){case"maximize":this.options.on.maximize.push(b);break;case"minimize":this.options.on.minimize.push(b);break;case"maxrestore":this.options.on.maxrestore.push(b);break;case"minrestore":this.options.on.minrestore.push(b);break;case"resize":this.options.on.resize.push(b);break;case"close":this.options.on.close.push(b);break;default:this.winDiv.on(a,b)}return this},one:function(a,b){if("undefined"!==jQuery.type(a)&&("string"===jQuery.type(a)||"function"===jQuery.type(b)))switch(a){case"maximize":this.options.one.maximize.push(b);break;case"minimize":this.options.one.minimize.push(b);break;case"maxrestore":this.options.one.maxrestore.push(b);break;case"minrestore":this.options.one.minrestore.push(b);break;case"resize":this.options.one.resize.push(b);break;case"close":this.options.one.close.push(b);break;default:this.winDiv.one(a,b)}return this},minimize:function(a){return this.winDiv.find(".minimize").click(),"function"===jQuery.type(a)&&a(),this},maximize:function(a){return this.windoge.find(".maximize").click(),"function"===jQuery.type(a)&&a(),this},restore:function(a){if(this.winDiv.show(),0!=this.options.winstate)return this.options.winstate>0?this.windoge.find(".restore").click():jQuery("#"+this.id+"-min img").click(),"function"===jQuery.type(a)&&a(),this},close:function(a){return this.windoge.find(".close").click(),"function"===jQuery.type(a)&&a(),this},setStatusMsg:function(a,b){return("undefined"===jQuery.type(b)||isNaN(b))&&(b=3e4),this.winDiv.find(".statusmsg").stop(!0,!0).fadeOut("fast").html(a).fadeIn("fast"),b>0&&this.winDiv.find(".statusmsg").delay(b).fadeOut("fast"),this}},jQuery.widget("winDoge.window",{winDoge:void 0,options:{},_init:function(){"undefined"===jQuery.type(this.winDoge)&&console.log("winDoge not initilized")},_create:function(){return"object"!=jQuery.type(this.element)&&"winDoge"!=jQuery.type(this.element[0])?null:void(this.winDoge=this.element[0])},findContent:function(){return this.winDoge.winDiv.find(".windogecontentinner").length>0?this.winDoge.winDiv.find(".windogecontentinner"):this.winDoge.winDiv.find(".windogecontent")},generateLoremIpsom:function(a,b){("undefined"===jQuery.type(a)||isNaN(a))&&(a=5),this.loadContent("http://www.corsproxy.com/loripsum.net/api/"+a+"/medium/decorate/link/ul/ol/dl/bq/code/headers/",b)},loadContent:function(a,b){var c=this;jQuery.ajax({type:"GET",url:a,dataType:"text",async:!0,success:function(a){c.findContent().html(a),"function"===jQuery.type(b)&&b()}})},on:function(a,b){return this.winDoge.on(eventype,b)},one:function(a,b){return this.winDoge.one(a,b)},minimize:function(a){return this.winDoge.minimize(a)},maximize:function(a){return this.winDoge.maximize(a)},restore:function(a){return this.winDoge.restore(a)},close:function(a){return this.winDoge.close(a)},setStatusMsg:function(a,b){return this.winDoge.setStatusMsg(a,b)}}),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}());
//# sourceMappingURL=jquery.ui.windoge.min.js.map